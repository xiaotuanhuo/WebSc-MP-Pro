<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
	<title>超级管理员</title>
	
	<!-- Google font file. If you want you can change. -->
	<link href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,900" rel="stylesheet">
	<!-- Fontawesome font file css -->
	<!-- <link rel="stylesheet" href="https://www.jq22.com/jquery/font-awesome.4.7.0.css"> -->
	<link rel="stylesheet" type="text/css" th:href="@{/css/font-awesome.min.css}">
	<!-- Template global css file. Requared all pages -->
	<link rel="stylesheet" type="text/css" th:href="@{/css/global.style.css}">
	<link rel="stylesheet" href="https://www.jq22.com/jquery/bootstrap-4.2.1.css">
	<!-- <link rel="stylesheet" th:href="@{/css/animate.min.css}"> -->
	<link rel="stylesheet" th:href="@{/css/mescroll.min.css}">
	<link rel="stylesheet" th:href="@{/css/Mdate.css}">
</head>

<body>
	<div class="wrapper">
		<div class="nav-menu">
			<nav class="menu">
				<!-- Menu navigation start -->
				<div class="nav-container menu-container">
					<div class="d-flex align-items-center justify-content-between container-list">
						<div class="menu-list-flex align-items-center">
							<div>
								<h5 class="text-muted">姓名</h5>
							</div>
						</div>
						<div>
							<h6 class="text-muted menu-info">[[${user.userName}]]</h6>
						</div>
					</div>
					<div class="d-flex align-items-center justify-content-between container-list">
						<div class="menu-list-flex align-items-center">
							<div>
								<h5 class="text-muted">性别</h5>
							</div>
						</div>
						<div>
							<div th:switch="${user.sex}">
								<div th:case="'0'">
									<h6 class="text-muted menu-info">女</h6>
								</div>
								<div th:case="*">
									<h6 class="text-muted menu-info">男</h6>
								</div>
							</div>
						</div>
					</div>
					<div class="d-flex align-items-center justify-content-between container-list">
						<div class="menu-list-flex align-items-center">
							<div>
								<h5 class="text-muted">手机</h5>
							</div>
						</div>
						<div>
							<h6 class="text-muted menu-info">[[${user.phone}]]</h6>
						</div>
					</div>
					<div class="d-flex align-items-center justify-content-between container-list">
						<div class="menu-list-flex align-items-center">
							<div>
								<h5 class="text-muted">角色</h5>
							</div>
						</div>
						<div>
							<h6 class="text-muted menu-info">[[${user.roleName}]]</h6>
						</div>
					</div>
					<div class="d-flex align-items-center justify-content-between container-list">
						<div class="menu-list-flex align-items-center">
							<div>
								<h5 class="text-muted">机构</h5>
							</div>
						</div>
						<div>
							<h6 class="text-muted menu-info">[[${user.deptName}]]</h6>
						</div>
					</div>
					<div class="d-flex align-items-center justify-content-between container-list">
						<div class="menu-list-flex align-items-center">
							<div>
								<h5 class="text-muted">区域</h5>
							</div>
						</div>
						<div>
							<h6 class="text-muted menu-info">[[${user.districtName}]]</h6>
						</div>
					</div>
					
					<button class="button circle red block menu-logout">登出</button>
				</div>
				<!-- Menu navigation end -->
			</nav>
		</div>
		
		<div class="wrapper-inline">
			<!-- Header area start -->
			<header class="no-background"> <!-- extra class no-background -->
				<div class="navi-menu-button">
					<em></em>
					<em></em>
					<em></em>
				</div>
			</header>
			<!-- Header area end -->
			
			<!-- Page content start -->
			<main class="margin mt-0">
				<div class="dash-balance">
					<div class="dash-content relative">
						<h3 class="w-text">SuCheng</h3>
					</div>
				</div>
				
				<section class="bal-section container">
					<div class="trader-info">
						<ul class="trader-info-list list-unstyled">
							<li>
								<div class="profile1"></div>
								<h2>[[${statsYMD.day}]]</h2>
								<small class="txt-muted">日手术量</small>
							</li>
							<li>
								<div class="profile2"></div>
								<h2>[[${statsYMD.month}]]</h2>
								<small class="txt-muted">月手术量</small>
							</li>
							<li>
								<div class="profile3"></div>
								<h2>[[${statsYMD.year}]]</h2>
								<small class="txt-muted">年手术量</small>
							</li>
						</ul>
					</div>
				</section>
				
				<!-- charts start -->
				<section class="section container refer">
					<div class="chart-body">
						<div class="row align-items-center chart-content">
							<div class="col-12">
								<div class="advertising-wrapper">
									<canvas id="container" class="chart-container"></canvas>
								</div>
							</div>
						</div>
					</div>
				</section>
				
				<!-- charts area end -->
				
				<!-- charts start -->
				<section class="section container refer">
					<div class="chart-body">
						<div class="row align-items-center chart-content">
							<div class="col-12">
								<div class="advertising-wrapper">
									<canvas id="container2" class="chart-container"></canvas>
								</div>
							</div>
						</div>
					</div>
				</section>
				
				<!-- charts area end -->
				
				<section class="wallets-list container">
					<!--expendable list item -->
					<div class="expandable-item accordion" data-group="accordion">
						<div class="expandable-header purp">
							<i class="list-arrow fa fa-angle-down"></i>
							<h3 class="list-title">统计报表</h3>
						</div>
						<div class="expandable-content">
							<div class="padding-content">
								<div class="recent-trans">
									<div class="form-group">
										<span>开始时间</span>
										<input type="text" id="dateSelector_begin" class="form-field">
									</div>
									<div class="form-group">
										<span>结束时间</span>
										<input type="text" id="dateSelector_end" class="form-field">
									</div>
									<div id="distpicker11">
										<div class="form-group">
											<label class="sr-only" for="province">province</label>
											<select class="form-control" id="province"></select>
										</div>
										<div class="form-group">
											<label class="sr-only" for="city">city</label>
											<select class="form-control" id="city"></select>
										</div>
										<div class="form-group">
											<label class="sr-only" for="district">district</label>
											<select class="form-control" id="district"></select>
										</div>
									</div>
									<div class="form-group">
										<label class="sr-only" for="organ">organ</label>
										<select class="form-control" id="organ"></select>
									</div>
									<div>
										<a href="#" id="" class="button circle block yellow">查询</a>
									</div>
                                </div>
							</div>
						</div>
					</div>
				</section>
				
				<section id="" class="container">
					<ul class="transaction-list list-unstyled">
							<li>
								<div class="d-flex align-items-center justify-content-between">
									<div class="d-flex align-items-center">
										<div class="ml-10">
											<h6 class="coin-name">上海禾新医院</h6>
											<small class="text-muted">上海市-直辖市-浦东新区</span></small>
										</div>
									</div>
									<div>
										<small class="d-block mb-0 txt-red">43</small>
									</div>
								</div>
							</li>
							<li>
								<div class="d-flex align-items-center justify-content-between">
									<div class="d-flex align-items-center">
										<div class="ml-10">
											<h6 class="coin-name">医疗机构A</h6>
											<small class="text-muted">北京市-直辖市-朝阳区</span></small>
										</div>
									</div>
									<div>
										<small class="d-block mb-0 txt-red">102</small>
									</div>
								</div>
							</li>
							<li>
								<div class="d-flex align-items-center justify-content-between">
									<div class="d-flex align-items-center">
										<div class="ml-10">
											<h6 class="coin-name">医疗机构B</h6>
											<small class="text-muted">安徽省-合肥市-瑶海区</span></small>
										</div>
									</div>
									<div>
										<small class="d-block mb-0 txt-red">61</small>
									</div>
								</div>
							</li>
							<li>
								<div class="d-flex align-items-center justify-content-between">
									<div class="d-flex align-items-center">
										<div class="ml-10">
											<h6 class="coin-name">医疗机构A</h6>
											<small class="text-muted">北京市-直辖市-朝阳区</span></small>
										</div>
									</div>
									<div>
										<small class="d-block mb-0 txt-red">102</small>
									</div>
								</div>
							</li>
							<li>
								<div class="d-flex align-items-center justify-content-between">
									<div class="d-flex align-items-center">
										<div class="ml-10">
											<h6 class="coin-name">医疗机构B</h6>
											<small class="text-muted">安徽省-合肥市-瑶海区</span></small>
										</div>
									</div>
									<div>
										<small class="d-block mb-0 txt-red">61</small>
									</div>
								</div>
							</li>
						</ul>
				</section>
				
			</main>
			<!-- Page content end -->
		</div>
	</div>
	<!--Page loader DOM Elements. Requared all pages-->
	<div class="sweet-loader">
		<div class="box">
		  	<div class="circle1"></div>
		  	<div class="circle2"></div>
		  	<div class="circle3"></div>
		</div>
	</div>
	
	<!-- JQuery library file. requared all pages -->
	<script th:src="@{/js/jquery.min.js}"></script>
    <!-- <script th:src="@{/js/swiper.animate.min.js}"></script> -->
	<!-- F2 阿里可视化插件 -->
	<script src="https://gw.alipayobjects.com/os/lib/antv/f2/3.7.3/dist/f2-all.min.js"></script>
	
	<!-- 下拉刷新 下拉加载插件 -->
	<script th:src="@{/js/mescroll.min.js}"></script>		
	<!-- Template global script file. requared all pages -->
	<script th:src="@{/js/global.script.js}"></script>
	<!-- 日期选择插件 -->
	<script th:src="@{/js/iScroll.js}"></script>
	<script th:src="@{/js/Mdate.js}"></script>
	
	<script th:src="@{/js/distpicker.data.js}"></script>
	<script th:src="@{/js/distpicker.js}"></script>
	<script th:src="@{/js/main.js}"></script>
	
	<script type="text/javascript">
		$(document).ready(function() {
			drawMonthCount();
			drawTopProvince();
		});
	
		$('#moreBtn').on("click", function() {
			window.location.href = "/mp/more";
		});
		
		/* 近3年每月手术统计 */
		function drawMonthCount() {
			$.ajax({
		    	type: "POST",
		    	dataType: "json",
		    	url: "statsMonths",
		    	contentType: "application/json",
		    	success: function (result) {
        			if(result.code == 0) {
        				var data = result.data;
        				var chart = new F2.Chart({
    		    			id : 'container',
    		    			pixelRatio : window.devicePixelRatio
    		    		});
    		    		chart.source(data);
    		    		chart.tooltip({
    		    			showTitle: true,
    		    			showCrosshairs : true
    		    		});
    		    		chart.legend({
    		    			align: 'center',
    		    			marker: function marker(x, y, r, ctx) {
    		    				ctx.lineWidth = 1;
    		    				ctx.strokeStyle = ctx.fillStyle;
    		    				ctx.moveTo(x - r - 3, y);
    		    				ctx.lineTo(x + r + 3, y);
    		    				ctx.stroke();
    		    				ctx.arc(x, y, r, 0, Math.PI * 2, false);
    		    				ctx.fill();
    		    			}
    		    		});
    		    		chart.line().position('month*count').color('year');
    		    		chart.point().position('month*count').color('year').style({
    		    			lineWidth : 1,
    		    			stroke : '#fff'
    		    		});
    		    		chart.render();
        			} else {
        				
        			}
		    	},
		    	error: function() {
		    		
		    	}
			});
		}
		
		function drawTopProvince() {
			
		}
		
		
		
		
		
		
		/* const data2 = [{
			amount: 20,
			ratio: 0.1,
			memo: '学习',
			const: 'const'
		}, {
			amount: 100,
			ratio: 0.5,
			memo: '睡觉',
			const: 'const'
		}, {
			amount: 10,
			ratio: 0.05,
			memo: '吃饭',
			const: 'const'
		}, {
			amount: 30,
			ratio: 0.15,
			memo: '讲礼貌',
			const: 'const'
		}, {
			amount: 10,
			ratio: 0.05,
			memo: '其他',
			const: 'const'
			}, {
			amount: 20,
			ratio: 0.1,
			memo: '运动',
			const: 'const'
		}, {
			amount: 10,
			ratio: 0.05,
			memo: '暂无备注',
			const: 'const'
		}];
		
		const chart2 = new F2.Chart({
			id: 'container2',
			pixelRatio: window.devicePixelRatio
		});

		chart2.source(data2);
		chart2.coord('polar', {
			transposed: true,
			innerRadius: 0.4,
			radius: 0.75
		});
		chart2.axis(false);
		chart2.legend({
			position: 'bottom',
			align: 'center'
		});
		chart2.tooltip(false);
		chart2.guide().html({
			position: [ '50%', '50%' ],
			html: '<div style="width: 100px;height: 20px;text-align: center;line-height: 20px;" id="textContent"></div>'
		});
		// 配置文本饼图
		chart2.pieLabel({
			sidePadding: 75,
			label1: function label1(data2) {
				return {
					text: data2.memo,
					fill: '#808080'
				};
			},
			label2: function label2(data2) {
				return {
					fill: '#000000',
					text: '$' + data2.amount.toFixed(2),
					fontWeight: 500,
					fontSize: 10
				};
			}
		});
		chart2.interval().position('const*ratio').color('memo', [ '#1890FF', '#13C2C2', '#2FC25B', '#FACC14', '#F04864', '#8543E0', '#3436C7', '#223273' ]).adjust('stack');
		chart2.render();
		
		// 绘制内阴影
		const frontPlot = chart.get('frontPlot');
		const coord = chart.get('coord'); // 获取坐标系对象
		frontPlot.addShape('sector', {
			attrs: {
				x: coord.center.x,
				y: coord.center.y,
				r: coord.circleRadius * coord.innerRadius * 1.2, // 全半径
				r0: coord.circleRadius * coord.innerRadius,
				fill: '#000',
				opacity: 0.15
			}
		});
		chart2.get('canvas').draw(); */
			
			
			
			
		$("#dateSelector_begin").focus(function() {
			document.activeElement.blur();
		});
		new Mdate("dateSelector_begin");
		$("#dateSelector_end").focus(function() {
			document.activeElement.blur();
		});
		new Mdate("dateSelector_end");
		$("#distpicker11").distpicker({
			autoSelect : false
		});

		$(".menu-logout").on("click", function() {
			location.href = "logout";
		});
	</script>
</body>

</html>
